---
layout: post
title: "db: SingleDelete 구현(Pebble issue #222)"
date: 2019-08-19
tags: [cockroachdb, go, pebble, sprint]
---

## 개요

[Pebble](https://github.com/petermattis/pebble)은 LevelDB/RocksDB에서 영감을 카크로치디비 내부사용을 위해 특화된 키-밸류 저장소입니다. 현재(2019년 8월)는 개발이 진행중인 상태이며, 2020년에 카크로치디비에 적용을 [계획](https://github.com/petermattis/pebble/issues/233)하고 있습니다.

## 이슈 선택

[카크로치디비](https://github.com/cockroachdb/cockroach/issues)처럼 이슈가 많지 않아 적절한 대상을 찾기 힘들었습니다. 익숙하지 않은 프로젝트라 [perf: N 레벨 compaction(N > 2) 조사](https://github.com/petermattis/pebble/issues/136), [vfs: sstables를 열 때 POSIX_FADV_RANDOM 사용](https://github.com/petermattis/pebble/issues/198) 등 몇가지 이슈를 먼저 확인해보았는데 용어부터가 낯설었습니다. 하지만 그 중 [db: SingleDelete 구현](https://github.com/petermattis/pebble/issues/222)이 다른 기능에 영향을 주지 않고 구현할 수 있을 것으로 생각되어 해결하기로 정했습니다. 보통이라면 이슈를 먼저 살펴보았겠지만, 작업시간이 오래(약 2-3주) 걸릴 것으로 예상되어 먼저 진행여부를 알리는 [코멘트](https://github.com/petermattis/pebble/issues/222#issuecomment-521638136)를 추가했습니다. 

---

**다음 연재에 내용이 이어집니다.**
